# loads necessary packages and defines global variables
source("code/0-setup/1-setup.R")
# data input
holc_la <-
st_read("data/raw/univ_richmond/mapping_inequality/shapefile/holc_ad_data.shp")
# data input
holc_la <- st_read("data/raw/univ_richmond/mapping_inequality/shapefile/holc_ad_data.shp") %>%
filter(name == "Los Angeles")
# data input
holc_la <- st_read("data/raw/univ_richmond/mapping_inequality/shapefile/holc_ad_data.shp") %>%
filter(city == "Los Angeles")
wells_la <- readRDS("data/interim/wells_interim.rds")
wells_la <- readRDS("data/interim/wells_interim.rds") %>%
filter(county_parish == "Los Angeles")
wells_la <- readRDS("data/interim/wells_interim.rds") %>%
filter(county_parish == "Los Angeles (CA)")
wells_la <- readRDS("data/interim/wells_interim.rds") %>%
filter(county_parish == "LOS ANGELES (CA)")
wells_la <- readRDS("data/interim/wells_interim.rds") %>%
filter(county_parish == "LOS ANGELES (CA)") %>%
st_as_sf(coords = c("longitude", "latitude"), crs = crs_nad83)
la_county <- st_read("data/raw/la_county/Census_Tracts_2010.shp") %>%
st_transform(crs_nad83) %>%
st_union()
plot(st_geometry(la_county))
glimpse(holc_la)
# data prep
holc_la %>% filter(holc_id == "C68")
plot(holc_la)
# data prep
c68_boundary <- holc_la %>% filter(holc_id == "C68")
plot(c68_boundary)
c68_centroid <- st_centroid(c68_boundary)
# data prep
c68_boundary <- holc_la %>% filter(holc_id == "C68")
c68_centroid <- st_transform(crs_projected) %>%
st_centroid(c68_boundary) %>%
st_transform(crs_nad83)
# data prep
c68_boundary <- holc_la %>% filter(holc_id == "C68")
c68_centroid <- c68_boundary %>%
st_transform(crs_projected) %>%
st_centroid(c68_boundary) %>%
st_transform(crs_nad83)
c68_buffer   <- c68_centroid %>%
st_transform(crs_projected) %>%
st_buffer(dist = 3000) %>%
st_transform(crs_nad83)
#.........................................................................
# makes figure
figure_2a <- ggplot() +
geom_sf(data = c68_boundary) +
geom_sf(data = c68_centroid) +
geom_sf(data = c68_buffer, fill = NA, linetype = "dashed") +
theme_bw()
figure_2a
#.........................................................................
# makes figure
figure_2a <- ggplot() +
geom_sf(data = c68_boundary) +
geom_sf(data = c68_centroid) +
geom_sf(data = c68_buffer, fill = NA, linetype = "dashed") +
geom_sf(wells_la, shape = 4) +
xlim(-118.48, - 118.39) + ylim(33.96, 34.04) +
theme_bw()
#.........................................................................
# makes figure
figure_2a <- ggplot() +
geom_sf(data = c68_boundary) +
geom_sf(data = c68_centroid) +
geom_sf(data = c68_buffer, fill = NA, linetype = "dashed") +
geom_sf(wells_la, aes(shape = 4)) +
xlim(-118.48, - 118.39) + ylim(33.96, 34.04) +
theme_bw()
#.........................................................................
# makes figure
figure_2a <- ggplot() +
geom_sf(data = c68_boundary) +
geom_sf(data = c68_centroid) +
geom_sf(data = c68_buffer, fill = NA, linetype = "dashed") +
geom_sf(data = wells_la, shape = 4) +
xlim(-118.48, - 118.39) + ylim(33.96, 34.04) +
theme_bw()
figure_2a
#.........................................................................
# makes figure
figure_2a <- ggplot() +
geom_sf(data = c68_boundary) +
geom_sf(data = c68_centroid) +
geom_sf(data = c68_buffer, fill = NA, linetype = "dashed") +
geom_sf(data = wells_la, shape = 4) +
xlim(-118.47, - 118.39) + ylim(33.96, 34.04) +
theme_bw()
figure_2a
#.........................................................................
# makes figure
figure_2a <- ggplot() +
geom_sf(data = c68_boundary) +
geom_sf(data = c68_centroid) +
geom_sf(data = c68_buffer, fill = NA, linetype = "dashed") +
geom_sf(data = wells_la, shape = 4) +
xlim(-118.47, - 118.39) + ylim(33.96, 34.03) +
theme_bw()
figure_2a
#.........................................................................
# makes figure
figure_2a <- ggplot() +
geom_sf(data = c68_boundary) +
geom_sf(data = c68_centroid) +
geom_sf(data = c68_buffer, fill = NA, linetype = "dashed") +
geom_sf(data = wells_la, shape = 4) +
xlim(-118.47, - 118.39) + ylim(33.97, 34.03) +
theme_bw()
figure_2a
#.........................................................................
# makes figure
figure_2a <- ggplot() +
geom_sf(data = c68_boundary) +
geom_sf(data = c68_centroid) +
geom_sf(data = c68_buffer, fill = NA, linetype = "dashed") +
geom_sf(data = wells_la, shape = 4) +
xlim(-118.47, - 118.39) + ylim(33.965, 34.03) +
theme_bw()
figure_2a
#.........................................................................
# makes figure
figure_2a <- ggplot() +
geom_sf(data = c68_boundary) +
geom_sf(data = c68_centroid) +
geom_sf(data = c68_buffer, fill = NA, linetype = "dashed") +
geom_sf(data = wells_la, shape = 4) +
xlim(-118.47, - 118.385) + ylim(33.965, 34.03) +
theme_bw()
figure_2a
# loads necessary packages and defines global variables
source("code/0-setup/01-setup.R")
